
<!DOCTYPE html>
<html>
    <head>
		<style>
            div{position:absolute ; border:1px solid} 
        </style>
        <script>
		

var bombs = new Array ();
var point0 = new Array ();
var point1 = new Array ();
var point2 = new Array ();
var point3 = new Array ();
var point4 = new Array ();
var point5 = new Array ();
var point6 = new Array ();
			
function create_bomb(){
	var i = 10;
	var rand_1 , rand_2 ;
	var id_1, id_2;
	while(i){
		rand_1 = Math.floor((Math.random()*10)+1);
		rand_2 = Math.floor((Math.random()*10)+1);
		id_1 = i.toString()+rand_1.toString();
		id_2 = i.toString()+rand_2.toString();
		bombs.push(id_1);
		bombs.push(id_2);
		i -= 1;
	}
	var points = create_points();
}
			
			
function create_points(){
	var xx = 10, index = 10;
	var count = 0;
	while (index){
		while (xx){
			count = test(index,xx);
			if (count==0)
				point0.push(index.toString()+xx.toString());
			if (count==1)
				point1.push(index.toString()+xx.toString());
			if (count==2)
				point2.push(index.toString()+xx.toString());
			if (count==3)
				point3.push(index.toString()+xx.toString());
			if (count==4)
				point4.push(index.toString()+xx.toString());
			if (count==5)
				point5.push(index.toString()+xx.toString());
			if (count==6)
				point6.push(index.toString()+xx.toString());					
			count=0;
			xx -= 1;
		}
		index -= 1;
		xx = 10;
	}		
}
		
function test(a,b){
	var count = 0, a_low = a-1, a_high = a+1;
	var b_low = b-1, b_high = b+1;
	if (bombs.indexOf(a.toString()+b.toString()) > -1)
		return -1;
	if (bombs.indexOf(a_low.toString()+b_low.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a_low.toString()+b.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a_low.toString()+b_high.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a.toString()+b_low.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a.toString()+b_high.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a_high.toString()+b_low.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a_high.toString()+b.toString()) > -1)
		count += 1;
	if (bombs.indexOf(a_high.toString()+b_high.toString()) > -1)
		count += 1;
	return count;
}
		
function show_pattern(){
	create_bomb();
    var top_position = 25; 
    var left_position = 25; 
    var width = 25; 
    var height = 25;
	var points;
	var id_x , id_y;
    var the_body = document.getElementById("theBody");
    while(top_position < 275) {
        while(left_position < 275) {
            var this_div = document.createElement("div");
			id_x = (left_position/25);
			id_y = (top_position/25);
			this_div.id = id_x.toString() + id_y.toString();
            this_div.style.top = top_position + "px";
            this_div.style.left = left_position + "px";
            this_div.style.width = width + "px";
            this_div.style.height = height + "px";
			this_div.style.background = 'red';
			//this_div.onclick = "style.background = 'yellow'";
			this_div.value = check_bomb(id_x.toString()+id_y.toString());
			/*if (points==-1)
				this_div.onclick = "alert('Game over')";
			if (points==0)
				this_div.onclick = "style.background = 'yellow'";
			if (points==1)
				this_div.onclick = "style.background = 'yellow'";
			if (points==2)
				this_div.onclick = "style.background = 'yellow'";
			if (points==3)
				this_div.onclick = "style.background = 'yellow'";
			if (points==-4)
				this_div.onclick = "style.background = 'yellow'";
			if (points==5)
				this_div.onclick = "style.background = 'yellow'";
			if (points==6)
				this_div.onclick = "style.background = 'yellow'";*/
            the_body.appendChild(this_div);
            left_position += 25;
        }
		top_position += 25;
		left_position =25;
    }
}

function check_bomb(check){
	var points = bombs.indexOf(check);
	if (points > -1)
		return -1;
	points = point0.indexOf(check);
	if (points > -1)
		return 0;
	points = point1.indexOf(check);
	if (points > -1)
		return 1;
	points = point2.indexOf(check);
	if (points > -1)
		return 2;
	points = point3.indexOf(check);
	if (points > -1)
		return 3;
	points = point4.indexOf(check);
	if (points > -1)
		return 4;
	points = point5.indexOf(check);
	if (points > -1)
		return 5;
	points = point6.indexOf(check);
	if (points > -1)
		return 6;
			
}
		
		</script>
    </head>
    
    <body id="theBody" onload="show_pattern()" >
			<h1> </h1>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("div").click(function(){
				var value = this.value;
				var id = this.id;
				if (value>0){
					$(this).css("background",'yellow');
					$(this).html("  "+this.value);
				}
				if (value==0){
					function test(id){
						var val=parseInt(id);
						var element;
						$(this).css("background",'yellow');
						var padosi = new Array ();
						if ((val%10)>1)
							padosi.push((val-1).toString());
						if ((val%10)!= 0)
							padosi.push((val+1).toString());
						if ((val/10)!=1 && val!=110)
							padosi.push((val-10).toString());
						if ((val/10)!=10 && val!=1010)
							padosi.push((val+10).toString());
						if ((val/10)!=1 && val!=110 && (val%10)>1)
							padosi.push((val-9).toString());
						if ((val/10)!=10 && val!=1010 && (val%10)>1)
							padosi.push((val+9).toString());
						if ((val/10)!=1 && val!=110 && (val%10)!=0)
							padosi.push((val-11).toString());
						if ((val/10)!=10 && val!=1010 && (val%10)!=0)
							padosi.push((val-11).toString());
						var len =padosi.length;
						for (var i=0;i<len;i++){
							element = $("#"+padosi[i]).attr("value");
							if (element ==0)
								test(padosi[i]);
							else{
								$("#"+padosi[i]).css("background",'yellow');
								$("#"+padosi[i]).html($("#"+padosi[i]).attr("value"));
							}
						}
				
					}
				}
				if (value==-1) {
					alert("Game Over");
				}
            });
         });
    </script>
    </body> 
</html>
